{"version":3,"file":"static/js/186.accb4660.chunk.js","mappings":"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","sources":["components/Reviews/Reviews.jsx","services/movieApi.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { useLayoutEffect, useState } from 'react';\nimport { useParams } from \"react-router-dom\"\nimport { fetchReviews } from \"services/movieApi\";\nimport { Loader } from 'components/Loader/Loader';\n\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const [showLoader, setShowLoader] = useState(false);\n  const { movieId } = useParams();\n\n\n  useLayoutEffect(() => {\n    setShowLoader(true);\n    // if (reviews) {\n    //   return;\n    // }\n    const getReviews = async () => {\n      try {\n        const reviewsData = await fetchReviews(movieId);\n\n        const normalizeReviews = normalizeReviewsData(reviewsData.results);\n        setReviews(normalizeReviews);\n      } catch (error) {\n        console.error(error);\n      } finally {\n        setShowLoader(false);\n      }\n    };\n\n    getReviews();\n  }, [movieId]);\n\n  const normalizeReviewsData = reviewsData => {\n    return reviewsData.map(({ author, content, id, created_at }) => ({\n      author,\n      content,\n      id,\n      created_at,\n    }));\n  };\n\n  return showLoader ? (\n    <Loader />\n  ) : (\n    <ul className=\"rev-wrapper\">\n      {reviews.length ? (\n        reviews.map(({ author, content, id, created_at }) => {\n          return (\n            <li className=\"rev-item-wrap\" key={id}>\n              <h3 className=\"cast-name\">Author: {author}</h3>\n              <p className=\"cast-char\">{created_at}</p>\n              <p className=\"rev-txt\">{content}</p>\n            </li>\n          );\n        })\n      ) : (\n        <li className=\"rev-item-wrap\">\n          <p className=\"cast-char\">We don't have any reviews for this movie</p>\n        </li>\n      )}\n    </ul>\n  );\n};\n\nexport default Reviews;","\n\nexport function fetchTrendMovie() {\n\n const options = {\n   method: 'GET',\n   headers: {\n     accept: 'application/json',\n     Authorization:\n       'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwOWY5NjI1ZWMwNTYzMDZhMTI5NDBmNzQyZDk4OTVlYiIsInN1YiI6IjY0YzQyMjQ3NDFhYWM0MDEwMTQzMTQ4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.d_HEh-sV3F_dyKiODY0wef4bWi3WrlK7FGhBkulFBZ0',\n   },\n };\n\n  return fetch('https://api.themoviedb.org/3/trending/movie/day', options)\n    .then(response => response.json()\n );\n   \n}\n\n\nexport function fetchTrendTv() {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwOWY5NjI1ZWMwNTYzMDZhMTI5NDBmNzQyZDk4OTVlYiIsInN1YiI6IjY0YzQyMjQ3NDFhYWM0MDEwMTQzMTQ4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.d_HEh-sV3F_dyKiODY0wef4bWi3WrlK7FGhBkulFBZ0',\n    },\n  };\n\n  return fetch('https://api.themoviedb.org/3/trending/tv/day', options).then(\n    response => response.json()\n  );\n}\n\nexport async function fetchMovieDetails(movieId) {\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwOWY5NjI1ZWMwNTYzMDZhMTI5NDBmNzQyZDk4OTVlYiIsInN1YiI6IjY0YzQyMjQ3NDFhYWM0MDEwMTQzMTQ4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.d_HEh-sV3F_dyKiODY0wef4bWi3WrlK7FGhBkulFBZ0',\n  },\n};\n \nreturn fetch(`https://api.themoviedb.org/3/movie/${movieId}`, options)\n  .then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json()\n  })\n \n\n}\n\n\n\nexport function fetchCast(movieId) {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwOWY5NjI1ZWMwNTYzMDZhMTI5NDBmNzQyZDk4OTVlYiIsInN1YiI6IjY0YzQyMjQ3NDFhYWM0MDEwMTQzMTQ4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.d_HEh-sV3F_dyKiODY0wef4bWi3WrlK7FGhBkulFBZ0',\n    },\n  };\n\n  return fetch(`https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`,\n    options\n  )\n    .then(response => response.json())\n  \n}\n\n\nexport function fetchReviews(movieId) {\n\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwOWY5NjI1ZWMwNTYzMDZhMTI5NDBmNzQyZDk4OTVlYiIsInN1YiI6IjY0YzQyMjQ3NDFhYWM0MDEwMTQzMTQ4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.d_HEh-sV3F_dyKiODY0wef4bWi3WrlK7FGhBkulFBZ0',\n    },\n  };\n\n  return fetch(`https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`,\n    options\n  )\n    .then(response => response.json())\n}\n\n\nexport function fetchMovie(query) {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwOWY5NjI1ZWMwNTYzMDZhMTI5NDBmNzQyZDk4OTVlYiIsInN1YiI6IjY0YzQyMjQ3NDFhYWM0MDEwMTQzMTQ4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.d_HEh-sV3F_dyKiODY0wef4bWi3WrlK7FGhBkulFBZ0',\n    },\n  };\n\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?query=${query}&include_adult=false&language=en-US&page=1`,\n    options\n  )\n    .then(response => response.json())\n \n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["useState","reviews","setReviews","showLoader","setShowLoader","movieId","useParams","useLayoutEffect","getReviews","fetchReviews","reviewsData","normalizeReviews","normalizeReviewsData","results","console","error","map","author","content","id","created_at","className","length","fetchTrendMovie","fetch","method","headers","accept","Authorization","then","response","json","fetchTrendTv","fetchMovieDetails","options","ok","Error","status","fetchCast","fetchMovie","query","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}