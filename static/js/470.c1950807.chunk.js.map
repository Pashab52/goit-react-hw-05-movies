{"version":3,"file":"static/js/470.c1950807.chunk.js","mappings":"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","sources":["components/SearchBar/SearchBar.jsx","components/MovieSearchItem/MovieSearchItem.jsx","pages/Movie.jsx","services/movieApi.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { useState } from 'react';\nimport { Loader } from 'components/Loader/Loader';\n\n\nexport const SearchBar = props => {\n  const [searchValue, setSearchValue] = useState('');\n  // const [showLoader, setShowLoader] = useState(false);\n\n  const handleOnChange = event => {\n        setSearchValue(event.currentTarget.value);\n  };\n\n  const handleOnSubmit = event => {\n    event.preventDefault();\n    if (searchValue !== ''){\n      props.handleOnSubmit(searchValue.trim());\n      setSearchValue('');\n    } \n  };\n\n  return (\n    <div className='form-wrap'>\n      <form className=\"form\" onSubmit={handleOnSubmit}>\n        <label>\n          <input\n            className=\"input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            required\n            placeholder=\"Search movie\"\n            onChange={handleOnChange}\n            value={searchValue}\n          />\n        </label>\n          {props.showLoader ? <Loader/> : <button className=\"details-btn\" type=\"submit\">\n            Search\n          </button>}\n      </form>\n    </div>\n  );\n};\n","import { Link, useLocation } from 'react-router-dom';\nimport poster from '../img/poster.jpg';\n\nexport const MovieSearchItem = ({ title, poster2, date, id }) => {\n  const location = useLocation();\n  return (\n    <li className=\"movie-item\">\n      <Link className=\"movie-link\" to={`${id}`} state={{ from: location }}>\n        <div className=\"movie-search-poster-wrap\">\n          {poster2 ? (\n            <img\n              className=\"movie-search-poster\"\n              src={`https://image.tmdb.org/t/p/w500${poster2}`}\n              alt={title}\n              width=\"320px\"\n              height=\"180px\"\n            />\n          ) : (\n            <img\n              className=\"movie-search-poster\"\n              src={poster}\n              alt={title}\n              width=\"320px\"\n              height=\"180px\"\n            />\n          )}\n        </div>\n        <div className=\"movie-txt-wrap\">\n          <p className=\"movie-txt\">\n            {title} {date && `(${Number.parseInt(date)})`}\n          </p>\n        </div>\n      </Link>\n    </li>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { SearchBar } from 'components/SearchBar/SearchBar';\nimport { fetchMovie } from 'services/movieApi';\nimport { useSearchParams } from 'react-router-dom';\nimport { MovieSearchItem } from 'components/MovieSearchItem/MovieSearchItem';\n\n\nconst Movie = () => {\n  const [movies, setMovies] = useState(null);\n  const [showLoader, setShowLoader] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  useEffect(() => {\n    const serchQuery = searchParams.get('query');\n      if (!serchQuery) {\n      return;\n    }\n    // if (movies) { return };\n\n    const getMovie = async () => {\n      setShowLoader(true);\n      try {\n        const movieData = await fetchMovie(serchQuery);\n        const normalizeMovieData = normalizeMovie(movieData);\n        setMovies(normalizeMovieData);\n      } catch (error) {\n        console.error(error);\n      } finally {\n        setShowLoader(false);\n      }\n    };\n    getMovie();\n  }, [searchParams]);\n\n  const handleOnSubmit = formData => {\n    // setQuery(formData)\n    setSearchParams(`query=${formData}`);\n  };\n\n  const normalizeMovie = movieData => {\n    return movieData.results.map(\n      ({ id, title, poster_path, backdrop_path, release_date }) => ({\n        id,\n        title,\n        poster_path,\n        backdrop_path,\n        release_date,\n      })\n    );\n  };\n\n  return (\n    <div className=\"movie-wrap\">\n      <SearchBar handleOnSubmit={handleOnSubmit} showLoader={showLoader} />\n\n      {movies && (\n        <ul className=\"movie-list\">\n          {movies.length ? (\n            movies.map(\n              ({ id, title, poster_path, backdrop_path, release_date }) => (\n                <MovieSearchItem\n                  key={id}\n                  id={id}\n                  title={title}\n                  poster={poster_path}\n                  poster2={backdrop_path}\n                  date={release_date}\n                />\n              )\n            )\n          ) : (\n            <li className=\"nomovies-wrap\">\n              <p className=\"cast-char\">Nothing is found for your request!</p>\n            </li>\n          )}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Movie;\n","\n\nexport function fetchTrendMovie() {\n\n const options = {\n   method: 'GET',\n   headers: {\n     accept: 'application/json',\n     Authorization:\n       'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwOWY5NjI1ZWMwNTYzMDZhMTI5NDBmNzQyZDk4OTVlYiIsInN1YiI6IjY0YzQyMjQ3NDFhYWM0MDEwMTQzMTQ4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.d_HEh-sV3F_dyKiODY0wef4bWi3WrlK7FGhBkulFBZ0',\n   },\n };\n\n  return fetch('https://api.themoviedb.org/3/trending/movie/day', options)\n    .then(response => response.json()\n );\n   \n}\n\n\nexport function fetchTrendTv() {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwOWY5NjI1ZWMwNTYzMDZhMTI5NDBmNzQyZDk4OTVlYiIsInN1YiI6IjY0YzQyMjQ3NDFhYWM0MDEwMTQzMTQ4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.d_HEh-sV3F_dyKiODY0wef4bWi3WrlK7FGhBkulFBZ0',\n    },\n  };\n\n  return fetch('https://api.themoviedb.org/3/trending/tv/day', options).then(\n    response => response.json()\n  );\n}\n\nexport async function fetchMovieDetails(movieId) {\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwOWY5NjI1ZWMwNTYzMDZhMTI5NDBmNzQyZDk4OTVlYiIsInN1YiI6IjY0YzQyMjQ3NDFhYWM0MDEwMTQzMTQ4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.d_HEh-sV3F_dyKiODY0wef4bWi3WrlK7FGhBkulFBZ0',\n  },\n};\n \nreturn fetch(`https://api.themoviedb.org/3/movie/${movieId}`, options)\n  .then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json()\n  })\n \n\n}\n\n\n\nexport function fetchCast(movieId) {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwOWY5NjI1ZWMwNTYzMDZhMTI5NDBmNzQyZDk4OTVlYiIsInN1YiI6IjY0YzQyMjQ3NDFhYWM0MDEwMTQzMTQ4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.d_HEh-sV3F_dyKiODY0wef4bWi3WrlK7FGhBkulFBZ0',\n    },\n  };\n\n  return fetch(`https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`,\n    options\n  )\n    .then(response => response.json())\n  \n}\n\n\nexport function fetchReviews(movieId) {\n\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwOWY5NjI1ZWMwNTYzMDZhMTI5NDBmNzQyZDk4OTVlYiIsInN1YiI6IjY0YzQyMjQ3NDFhYWM0MDEwMTQzMTQ4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.d_HEh-sV3F_dyKiODY0wef4bWi3WrlK7FGhBkulFBZ0',\n    },\n  };\n\n  return fetch(`https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`,\n    options\n  )\n    .then(response => response.json())\n}\n\n\nexport function fetchMovie(query) {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwOWY5NjI1ZWMwNTYzMDZhMTI5NDBmNzQyZDk4OTVlYiIsInN1YiI6IjY0YzQyMjQ3NDFhYWM0MDEwMTQzMTQ4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.d_HEh-sV3F_dyKiODY0wef4bWi3WrlK7FGhBkulFBZ0',\n    },\n  };\n\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?query=${query}&include_adult=false&language=en-US&page=1`,\n    options\n  )\n    .then(response => response.json())\n \n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["SearchBar","props","useState","searchValue","setSearchValue","className","onSubmit","event","preventDefault","handleOnSubmit","trim","type","autoComplete","autoFocus","required","placeholder","onChange","currentTarget","value","showLoader","Loader","MovieSearchItem","title","poster2","date","id","location","useLocation","to","state","from","src","alt","width","height","poster","Number","parseInt","movies","setMovies","setShowLoader","useSearchParams","searchParams","setSearchParams","useEffect","serchQuery","get","getMovie","fetchMovie","movieData","normalizeMovieData","normalizeMovie","console","error","results","map","poster_path","backdrop_path","release_date","formData","length","fetchTrendMovie","fetch","method","headers","accept","Authorization","then","response","json","fetchTrendTv","fetchMovieDetails","movieId","options","ok","Error","status","fetchCast","fetchReviews","query","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}